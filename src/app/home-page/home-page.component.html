<section class="home__container">
  <div class="right-float-icon">
    <button (click)="toggleLocationModal()">
      <img src="assets/img/location-sign.svg" width="30" height="30" />
    </button>
  </div>

  <article class="home__card">
    <app-input-searcher (searchEvent)="search($event)"></app-input-searcher>
    <span class="home__card__address">
      @if(addressText){ Ubicaci√≥n: {{ addressText | slice : 0 : 26 }}... }
        @else {
        <ngx-skeleton-loader
          appearance="line"
          animation="pulse"
          [theme]="{ height: '15px', width: '250px' }"
        ></ngx-skeleton-loader>
        }
    </span>
  </article>

  <section class="loader-container" *ngIf="loading && !results">
    <div class="loader"></div>
  </section>

  <section *ngIf="results && !loading">
    <div class="searcher__container">
      <div *ngFor="let product of results.productos">
        <app-product-card [product]="product"></app-product-card>
      </div>

      @if(apiError){
        <div class="api-error">
          <span>
            Parece que el servicio de precios no esta disponible.
          </span>

          <span>
            Vuelve a intentar mas tarde
          </span>
        </div>
      }
    </div>
  </section>
</section>

<app-modal-location *ngIf="showLocationModal" (closeModal)="toggleLocationModal()"></app-modal-location>
